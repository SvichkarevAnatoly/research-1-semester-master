\section*{Теория метода DEEP}
\addcontentsline{toc}{subsection}{Теория метода DEEP}

Ниже приведено описание оригинального метода разностной эволюции
и его модификации DEEP.

Разностная эволючия (РЭ) ---
многомерный стохастический итерационный алгоритм минимизации.

Метод оперирует случайно сгенерированными векторами параметров,
называемых индивидами. 
Под вектором понимается точка n-мерного пространства
из области определения целевой функции,
которую требуется минимизировать.
Множество индивидов называется популяцией.
Одна итерация популяции РЭ называется поколением.
Новое поколение генерируется случайным образом
по заданной схеме из индивидов текущего поколения.

Идея генерации нового поколения в оригинальном алгоритме
заключается в следующем.
Для каждого индивида текущего поколения
выбираются случайным образом 3 другие индивида
из поколения и вычисляется мутантный вектор по формуле:

\begin{equation} \label{mutant}
    v = v_1 + S \cdot (v_2 - v_3),
\end{equation}

где \begin{math}S\end{math} некоторая положительная константа масштабирования.

Производится операция скрещивания мутантного вектора с исходным,
замещением некоторых координат значениями из исходного вектора.
Полученный вектор называется пробным вектором.
Если значение целевой функции на нём стало меньше,
чем было на исходном, то пробный вектор добавляется в новое поколение.
Если нет, то в новое поколение переходит исходный индивид.
Таким образом, в каждом следующем поколение новые индивиды
стремится уменьшить значение целевой функции
и при определённых условиях может быть найден глобальный минимум.

Опишем модификацию РЭ, разработанную в \cite{KozlovThesis}.

\textbf{Скрещивание с учётом значения функционала:}

Используются два мутантных вектора,
на их основе определяется третий пробный вектор.
Первый мутантный вектор определяется по соотношению \ref{mutant},
второй мутантный вектор определяется по аналогии с правилом треугольника:

\begin{IEEEeqnarray}{rCl} \label{mutant2}
    z & = & \frac{v_1 + v_2 + v_3}{3}
    + (s_2 - s_1)(v_1 - v_2) \\
    && + (s_3 - s_2)(v_2 - v_3)
    + (s_1 - s_3)(v_3 - v_1), \nonumber
\end{IEEEeqnarray}

где

\begin{equation}
    s_i = \frac{\abs{F(q_i)}}
    {\abs{F(q_1)} + \abs{F(q_2)} + \abs{F(q_3)}},
\end{equation}

для \begin{math}i = 1, 2, 3\end{math}.

Третий пробный вектор составляется из произвольного выбора
соответствующих координат мутантных векторов.
Пробный вектор переходит в новое поколение,
если значение функционала на нём меньше.

\textbf{Полностью параллельная разностная эволюция:}

ППРЭ может быть эффективно распараллелена --
каждый вычислительный узел обрабатывает свою подпопуляцию,
т.е. на каждом узле запускается метод РЭ.
Для синхронизации подпопуляций вводится возможность миграций --
замены старейшего индивида (по числу прошедших для него итераций)
на лучший индивид из другой подпопуляции
(наименьшее значение функционала).
Период миграции -- число итераций,
после которого происходит следующая миграция,
является параметром алгоритма.

